Components {
  Main "test.py";
}

Messages {
  M1(num);
  M2(str);
}

Init {
  spawn(Main);
}

Exchange(c) {
  Main {
    M1(y) {
      send(c, M1(y));
    }

    M2(y) {
      send(c, M2(y));
    }
  }
}

Properties {
  AlwaysResponds =
    ImmAfter {
      "KRecv chan msg :: nil"
    }{
      "KSend chan msg :: nil"
    };

  OnlyResponds =
    ImmBefore {
      "KRecv chan msg :: nil"
    }{
      "KSend chan msg :: nil"
    };

  Any =
    Match {
      .*
    };

  Any2 =
    Match {
     .*.*
    };

  AnyOrAny =
    Match {
     .*|.*
    };

  MaybeOneOrAny =
    Match {
      .?|.*
    };

  AnyDisguise =
    Match {
      ([^send(_, M1(_)), send(_, M2(_))]|[^recv(_, M1(_)), recv(_, M2(_))])*
    };

  NoSendTillRecv =
    Match {
      [^send(_, M1(_)), send(_, M2(_))]*|.*[recv(_, M1(_)), recv(_, M2(_))][^send(_, M1(_)), send(_, M2(_))]*
    };

  DonTest =
    Match {
      (.*[recv(_, M1(_)), recv(_, M2(_))])?[^send(_, M1(_)), send(_, M2(_))]*
    };
}
