State {
  domain : str;
}

Components {
  Comp "comp.py" {
    cdom : str;
  }
}

Messages {
  Who ();
  Ok  (str);
  Bad (str);
}

Init {
  domain = "google.com";
  spawn(Comp("http://www.google.com/students"));
  spawn(Comp("http://www.facebook.com"));
  spawn(Comp("http://www.badguy.com/www.google.com/students"));
}

Exchange(c) {
  Comp {
    Who() when (dom(c@cdom) =s domain) {
      send(c, Ok(c@cdom));
    } {
      send(c, Bad(c@cdom));
    }
  }
}
