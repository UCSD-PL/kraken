State {
  curtab : chan ;
  screen : chan ;
}

Components {
  Tab       "tab.py"        ;
  Screen    "screen.py"     ;
  UserInput "user-input.py" ;
}

Messages {
  Input(str);
  Display(str);
  Quit();
}

Init {
  curtab := spawn(Tab);
  screen := spawn(Screen);
  spawn(UserInput);
}

Exchange(c) {
  Tab {
    Display(url) {
      # TODO check that this is from cur tab
      send(screen, Display(url));
    }
  }

  UserInput {
    Input(i) {
      send(curtab, Input(i));
    }
    Quit() {
      send(curtab, Quit());
      send(screen, Quit());
    }
  }
}
