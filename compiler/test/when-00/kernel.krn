State {
  n : num;
}

Components {
  Main "test.py";
}

Messages {
  ReqN();
  CurN(num);
}

Init {
  n = 0;
  spawn(Main);
}

Exchange(c) {
  Main {
    ReqN() when (n =n 5) {
      n = n + 1;
      send(c, CurN(0));
    }{
      n = n + 1;
      send(c, CurN(n));
    }
  }
}
